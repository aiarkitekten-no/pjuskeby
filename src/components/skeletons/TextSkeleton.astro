---
interface Props {
  lines?: number;
  class?: string;
}

const { lines = 3, class: className = '' } = Astro.props;
---

<div class={`text-skeleton ${className}`}>
  {Array.from({ length: lines }).map((_, index) => (
    <div 
      class={`skeleton-line animate-pulse ${index === lines - 1 ? 'short' : ''}`}
    ></div>
  ))}
</div>

<style>
  .text-skeleton {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }
  
  .skeleton-line {
    height: 1rem;
    background: #e2e8f0;
    border-radius: 4px;
    width: 100%;
  }
  
  .skeleton-line.short {
    width: 60%;
  }
  
  .animate-pulse {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }
  
  @keyframes pulse {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.5;
    }
  }
</style>
